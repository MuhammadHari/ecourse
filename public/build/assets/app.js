var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,l=(e,t)=>{for(var r in t||(t={}))a.call(t,r)&&s(e,r,t[r]);if(n)for(var r of n(t))o.call(t,r)&&s(e,r,t[r]);return e},i=(e,n)=>t(e,r(n)),c=(e,t)=>{var r={};for(var s in e)a.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&n)for(var s of n(e))t.indexOf(s)<0&&o.call(e,s)&&(r[s]=e[s]);return r};import{M as u,t as d,Q as m,V as p,l as g,w as h,a as x,b as f,c as E,d as y,R as b,e as v,r as C,u as S,m as _,P as w,B as P,D as I,T as k,f as q,g as $,h as N,o as R,S as A,i as T,j as H,k as O,F as B,n as U,p as D,q as L,s as j,v as M,x as W,L as J,y as F,z as V,A as z,I as X,C as G,E as Y,G as K,H as Q,J as Z,K as ee,N as te,O as re,U as ne,W as ae,X as oe,Y as se,Z as le,_ as ie,$ as ce,a0 as ue,a1 as de,a2 as me,a3 as pe,a4 as ge,a5 as he,a6 as xe,a7 as fe,a8 as Ee,a9 as ye,aa as be,ab as ve,ac as Ce,ad as Se,ae as _e,af as we,ag as Pe,ah as Ie,ai as ke,aj as qe,ak as $e,al as Ne,am as Re,an as Ae,ao as Te,ap as He,aq as Oe,ar as Be,as as Ue,at as De,au as Le,av as je,aw as Me,ax as We,ay as Je,az as Fe,aA as Ve,aB as ze,aC as Xe,aD as Ge,aE as Ye,aF as Ke,aG as Qe}from"./vendor.cab8bf8f.js";const Ze=u;var et,tt;(tt=et||(et={})).Adm="Adm",tt.Teacher="Teacher",tt.Student="Student";const rt=d.enumeration("Role",["Adm","Teacher","Student"]),nt=Ze.named("User").props({__typename:d.optional(d.literal("User"),"User"),id:d.identifier,name:d.union(d.undefined,d.string),email:d.union(d.undefined,d.string),role:d.union(d.undefined,rt),grade:d.union(d.undefined,d.null,d.string),created_at:d.union(d.undefined,d.frozen()),updated_at:d.union(d.undefined,d.frozen())}).views((e=>({get store(){return e.__getStore()}})));class at extends m{get id(){return this.__attr("id")}get name(){return this.__attr("name")}get email(){return this.__attr("email")}get role(){return this.__attr("role")}get grade(){return this.__attr("grade")}get created_at(){return this.__attr("created_at")}get updated_at(){return this.__attr("updated_at")}}const ot=(new at).name.email.role.grade.created_at.updated_at;var st,lt;(lt=st||(st={})).HS1="HS1",lt.HS2="HS2",lt.HS3="HS3",lt.JHS1="JHS1",lt.JHS2="JHS2",lt.JHS3="JHS3",lt.PR1="PR1",lt.PR2="PR2",lt.PR3="PR3";const it=d.enumeration("Grade",["HS1","HS2","HS3","JHS1","JHS2","JHS3","PR1","PR2","PR3"]),ct={};const ut=[];Object.keys(st).forEach((e=>{const t=st[e];let r="SD";const n=p(t).startsWith("HS")?6:0,a=p(t).startsWith("JHS")?3:0,o=p(t).replaceAll("JHS","").replaceAll("HS","").replaceAll("PR",""),s=parseInt(o.value())+(3+n+a);n&&(r="SMA"),a&&(r="SMP");const l=function(e){if(isNaN(e))return NaN;const t=String(+e).split(""),r=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];let n="",a=3;for(;a--;)n=(r[+t.pop()+10*a]||"")+n;return Array(+t.join("")+1).join("M")+n}(s),i={roman:l,label:`${r} ${l}`,num:s,grade:e};ct[l]=i,ut.push(i)}));const dt=ct,mt={obj:ct,map:ut,find:e=>g.exports.find(ut,{grade:e})},pt=nt.actions((e=>({log(){console.log(JSON.stringify(e))}}))).views((e=>({get gradeLabel(){return e.grade?dt[e.grade].label:""}}))),gt=Ze.named("PaginatorInfo").props({__typename:d.optional(d.literal("PaginatorInfo"),"PaginatorInfo"),count:d.union(d.undefined,d.integer),currentPage:d.union(d.undefined,d.integer),firstItem:d.union(d.undefined,d.null,d.integer),hasMorePages:d.union(d.undefined,d.boolean),lastItem:d.union(d.undefined,d.null,d.integer),lastPage:d.union(d.undefined,d.integer),perPage:d.union(d.undefined,d.integer),total:d.union(d.undefined,d.integer)}).views((e=>({get store(){return e.__getStore()}})));class ht extends m{get count(){return this.__attr("count")}get currentPage(){return this.__attr("currentPage")}get firstItem(){return this.__attr("firstItem")}get hasMorePages(){return this.__attr("hasMorePages")}get lastItem(){return this.__attr("lastItem")}get lastPage(){return this.__attr("lastPage")}get perPage(){return this.__attr("perPage")}get total(){return this.__attr("total")}}(new ht).count.currentPage.firstItem.hasMorePages.lastItem.lastPage.perPage.total;const xt=gt.actions((e=>({log(){console.log(JSON.stringify(e))}}))),ft=h()(Ze.named("UserPaginator").props({__typename:d.optional(d.literal("UserPaginator"),"UserPaginator"),paginatorInfo:d.union(d.undefined,d.late((()=>xt))),data:d.union(d.undefined,d.array(x(d.late((()=>pt)))))}).views((e=>({get store(){return e.__getStore()}}))));class Et extends m{paginatorInfo(e){return this.__child("paginatorInfo",ht,e)}data(e){return this.__child("data",at,e)}}const yt=new Et,bt=ft.actions((e=>({log(){console.log(JSON.stringify(e))}})));var vt,Ct;(Ct=vt||(vt={})).PDF="PDF",Ct.VIDEO="VIDEO";const St=d.enumeration("ContentType",["PDF","VIDEO"]),_t=h()(Ze.named("Content").props({__typename:d.optional(d.literal("Content"),"Content"),id:d.identifier,sectionId:d.union(d.undefined,d.string),classroomId:d.union(d.undefined,d.string),title:d.union(d.undefined,d.string),description:d.union(d.undefined,d.string),sequenceNumber:d.union(d.undefined,d.integer),type:d.union(d.undefined,St),mediaContent:d.union(d.undefined,d.string),thumbnail:d.union(d.undefined,d.string),createdAt:d.union(d.undefined,d.frozen()),updatedAt:d.union(d.undefined,d.null,d.frozen()),user:d.union(d.undefined,x(d.late((()=>pt))))}).views((e=>({get store(){return e.__getStore()}}))));class wt extends m{get id(){return this.__attr("id")}get sectionId(){return this.__attr("sectionId")}get classroomId(){return this.__attr("classroomId")}get title(){return this.__attr("title")}get description(){return this.__attr("description")}get sequenceNumber(){return this.__attr("sequenceNumber")}get type(){return this.__attr("type")}get mediaContent(){return this.__attr("mediaContent")}get thumbnail(){return this.__attr("thumbnail")}get createdAt(){return this.__attr("createdAt")}get updatedAt(){return this.__attr("updatedAt")}user(e){return this.__child("user",at,e)}}(new wt).sectionId.classroomId.title.description.sequenceNumber.type.mediaContent.thumbnail.createdAt.updatedAt;const Pt=_t.actions((e=>({log(){console.log(JSON.stringify(e))}}))).views((e=>({get uploader(){return e.user?e.user.name:""}}))),It=Ze.named("Section").props({__typename:d.optional(d.literal("Section"),"Section"),id:d.identifier,classroomId:d.union(d.undefined,d.string),title:d.union(d.undefined,d.string),sequence:d.union(d.undefined,d.integer),createdAt:d.union(d.undefined,d.frozen()),updatedAt:d.union(d.undefined,d.null,d.frozen())}).views((e=>({get store(){return e.__getStore()}})));class kt extends m{get id(){return this.__attr("id")}get classroomId(){return this.__attr("classroomId")}get title(){return this.__attr("title")}get sequence(){return this.__attr("sequence")}get createdAt(){return this.__attr("createdAt")}get updatedAt(){return this.__attr("updatedAt")}}const qt=(new kt).classroomId.title.sequence.createdAt.updatedAt,$t=It.actions((e=>({log(){console.log(JSON.stringify(e))}}))),Nt=h()(Ze.named("ClassRoom").props({__typename:d.optional(d.literal("ClassRoom"),"ClassRoom"),id:d.identifier,grade:d.union(d.undefined,it),photo:d.union(d.undefined,d.string),sectionCount:d.union(d.undefined,d.integer),studentCount:d.union(d.undefined,d.integer),contentCount:d.union(d.undefined,d.integer),sections:d.union(d.undefined,d.array(x(d.late((()=>$t))))),contents:d.union(d.undefined,d.array(x(d.late((()=>Pt)))))}).views((e=>({get store(){return e.__getStore()}}))));class Rt extends m{get id(){return this.__attr("id")}get grade(){return this.__attr("grade")}get photo(){return this.__attr("photo")}get sectionCount(){return this.__attr("sectionCount")}get studentCount(){return this.__attr("studentCount")}get contentCount(){return this.__attr("contentCount")}sections(e){return this.__child("sections",kt,e)}contents(e){return this.__child("contents",wt,e)}}const At=(new Rt).grade.photo.sectionCount.studentCount.contentCount,Tt=Nt.actions((e=>({log(){console.log(JSON.stringify(e))}}))).views((e=>({get gradeLabel(){return e.grade?e.grade:""}}))),Ht=h()(Ze.named("ContentPaginator").props({__typename:d.optional(d.literal("ContentPaginator"),"ContentPaginator"),paginatorInfo:d.union(d.undefined,d.late((()=>xt))),data:d.union(d.undefined,d.array(x(d.late((()=>Pt)))))}).views((e=>({get store(){return e.__getStore()}}))));class Ot extends m{paginatorInfo(e){return this.__child("paginatorInfo",ht,e)}data(e){return this.__child("data",wt,e)}}const Bt=new Ot,Ut=Ht.actions((e=>({log(){console.log(JSON.stringify(e))}})));var Dt,Lt;(Lt=Dt||(Dt={})).ASC="ASC",Lt.DESC="DESC",d.enumeration("SortOrder",["ASC","DESC"]);const jt=Ze.named("PageInfo").props({__typename:d.optional(d.literal("PageInfo"),"PageInfo"),hasNextPage:d.union(d.undefined,d.boolean),hasPreviousPage:d.union(d.undefined,d.boolean),startCursor:d.union(d.undefined,d.null,d.string),endCursor:d.union(d.undefined,d.null,d.string),total:d.union(d.undefined,d.null,d.integer),count:d.union(d.undefined,d.null,d.integer),currentPage:d.union(d.undefined,d.null,d.integer),lastPage:d.union(d.undefined,d.null,d.integer)}).views((e=>({get store(){return e.__getStore()}})));class Mt extends m{get hasNextPage(){return this.__attr("hasNextPage")}get hasPreviousPage(){return this.__attr("hasPreviousPage")}get startCursor(){return this.__attr("startCursor")}get endCursor(){return this.__attr("endCursor")}get total(){return this.__attr("total")}get count(){return this.__attr("count")}get currentPage(){return this.__attr("currentPage")}get lastPage(){return this.__attr("lastPage")}}(new Mt).hasNextPage.hasPreviousPage.startCursor.endCursor.total.count.currentPage.lastPage;const Wt=jt.actions((e=>({log(){console.log(JSON.stringify(e))}})));var Jt,Ft,Vt,zt,Xt,Gt;(Ft=Jt||(Jt={})).ONLY="ONLY",Ft.WITH="WITH",Ft.WITHOUT="WITHOUT",d.enumeration("Trashed",["ONLY","WITH","WITHOUT"]),(zt=Vt||(Vt={})).queryAuth="queryAuth",zt.queryTeachers="queryTeachers",zt.queryStudents="queryStudents",zt.queryClassrooms="queryClassrooms",zt.queryClassroom="queryClassroom",zt.queryContents="queryContents",(Gt=Xt||(Xt={})).mutateLogin="mutateLogin",Gt.mutateResetPassword="mutateResetPassword",Gt.mutateResetPasswordCallback="mutateResetPasswordCallback",Gt.mutateRegister="mutateRegister",Gt.mutateSections="mutateSections",Gt.mutateSectionBatchUpdate="mutateSectionBatchUpdate",Gt.mutateUser="mutateUser";const Yt=h()(f.named("RootStore").extend(E([["User",()=>pt],["UserPaginator",()=>bt],["PaginatorInfo",()=>xt],["ClassRoom",()=>Tt],["Section",()=>$t],["Content",()=>Pt],["ContentPaginator",()=>Ut],["PageInfo",()=>Wt]],["User","ClassRoom","Section","Content"],"js")).props({users:d.optional(d.map(d.late((()=>pt))),{}),classRooms:d.optional(d.map(d.late((()=>Tt))),{}),sections:d.optional(d.map(d.late((()=>$t))),{}),contents:d.optional(d.map(d.late((()=>Pt))),{})}).actions((e=>({queryAuth:(t,r=ot.toString(),n={})=>e.query(`query auth { auth {\n        ${"function"==typeof r?r(new at).toString():r}\n      } }`,t,n),queryTeachers:(t,r=yt.toString(),n={})=>e.query(`query teachers($first: Int, $page: Int) { teachers(first: $first, page: $page) {\n        ${"function"==typeof r?r(new Et).toString():r}\n      } }`,t,n),queryStudents:(t,r=yt.toString(),n={})=>e.query(`query students($grade: String, $first: Int, $page: Int) { students(grade: $grade, first: $first, page: $page) {\n        ${"function"==typeof r?r(new Et).toString():r}\n      } }`,t,n),queryClassrooms:(t,r=At.toString(),n={})=>e.query(`query classrooms { classrooms {\n        ${"function"==typeof r?r(new Rt).toString():r}\n      } }`,t,n),queryClassroom:(t,r=At.toString(),n={})=>e.query(`query classroom($id: ID!) { classroom(id: $id) {\n        ${"function"==typeof r?r(new Rt).toString():r}\n      } }`,t,n),queryContents:(t,r=Bt.toString(),n={})=>e.query(`query contents($classroomId: ID!, $first: Int, $page: Int) { contents(classroomId: $classroomId, first: $first, page: $page) {\n        ${"function"==typeof r?r(new Ot).toString():r}\n      } }`,t,n),mutateLogin:(t,r)=>e.mutate("mutation login($email: String!, $password: String!) { login(email: $email, password: $password) }",t,r),mutateResetPassword:(t,r)=>e.mutate("mutation resetPassword($email: String!) { resetPassword(email: $email) }",t,r),mutateResetPasswordCallback:(t,r)=>e.mutate("mutation resetPasswordCallback($email: String!, $code: String!, $password: String!, $passwordConfirmation: String!) { resetPasswordCallback(email: $email, code: $code, password: $password, password_confirmation: $passwordConfirmation) }",t,r),mutateRegister:(t,r)=>e.mutate("mutation register($args: CreateUserInput!) { register(args: $args) }",t,r),mutateSections:(t,r=qt.toString(),n)=>e.mutate(`mutation sections($classroomId: ID!, $title: String!, $sequence: Int!) { sections(classroomId: $classroomId, title: $title, sequence: $sequence) {\n        ${"function"==typeof r?r(new kt).toString():r}\n      } }`,t,n),mutateSectionBatchUpdate:(t,r=qt.toString(),n)=>e.mutate(`mutation sectionBatchUpdate($classroomId: ID!, $map: [SectionBatchMapInput!]!) { sectionBatchUpdate(classroomId: $classroomId, map: $map) {\n        ${"function"==typeof r?r(new kt).toString():r}\n      } }`,t,n),mutateUser:(t,r=ot.toString(),n)=>e.mutate(`mutation user($name: String!, $email: String!, $password: String!, $role: Role, $grade: Grade) { user(name: $name, email: $email, password: $password, role: $role, grade: $grade) {\n        ${"function"==typeof r?r(new at).toString():r}\n      } }`,t,n)})))).actions((e=>({log(){console.log(JSON.stringify(e))}}))),Kt=y(b),Qt=v(Kt,b),Zt=()=>C.exports.createElement("div",null,"Student page");function er(){const e=S(),t=C.exports.useCallback((t=>e.push(t)),[]);return{navigateHandler:C.exports.useCallback(((e,r={})=>()=>{if(r)return((e,r)=>{let n=p(e);return Object.keys(r).forEach((e=>{n=n.replaceAll(`:${e}`,r[e])})),t(n.value())})(e,r);t(e)}),[]),navigate:t}}const tr=_((e=>({root:{backgroundSize:"cover",minHeight:"240px",position:"relative",backgroundPosition:"center",backgroundRepeat:"no-repeat"},info:{position:"absolute",bottom:0,height:"50%",width:"100%",color:"white",backgroundColor:"rgba(0, 0, 0, 0.70)",borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,display:"flex",alignItems:"center",justifyContent:"center"}}))),rr=({classroom:e,buttons:t})=>{const r=tr();return console.log(window.mobxJson(e)),C.exports.createElement(w,{className:r.root,style:{backgroundImage:`url("${e.photo}")`}},C.exports.createElement(P,{className:r.info},C.exports.createElement(I,null),C.exports.createElement(P,{padding:2},C.exports.createElement(k,{variant:"h5"},e.gradeLabel),C.exports.createElement(P,{paddingY:1},C.exports.createElement(q,{variant:"outlined"},t.map((e=>{var t=e,{color:r="primary"}=t,n=c(t,["color"]);return C.exports.createElement($,i(l({},n),{size:"small",color:r,variant:"outlined",key:n.title}),n.title)})))))))};function nr({queryKey:e,builder:t}){const r=p(e).replace("query","").camelCase().value(),[n,a]=C.exports.useState(null),{setQuery:o,data:s,loading:l,error:i}=Qt();C.exports.useEffect((()=>{if(s&&s[r]){const e=s[r];a(e)}}),[s]);return[n,{loading:l,fetch:(r={})=>o((n=>n[e](r,t))),isNull:void 0!==i&&Boolean(null===(null==(c=null==i?void 0:i.response)?void 0:c.data[r]))}];var c}const ar={queryAllClassroom:()=>{const[e,{fetch:t,loading:r}]=nr({queryKey:Vt.queryClassrooms});return{classrooms:e,fetch:t,loading:r}},queryClassroom:()=>{const[e,{fetch:t,loading:r}]=nr({queryKey:Vt.queryClassroom}),n=N();return C.exports.useEffect((()=>{n.id&&t(n)}),[]),{classroom:e,fetch:t,loading:r}}},{queryAllClassroom:or}=ar,sr=[{component:R((()=>{const{loading:e,fetch:t,classrooms:r}=or();C.exports.useEffect((()=>{t()}),[]),er(),console.log(r);return C.exports.createElement("div",null,C.exports.createElement(A,{container:!0,component:P,paddingY:2},null==r?void 0:r.map((e=>C.exports.createElement(A,{item:!0,key:e.id,sm:12,md:4},C.exports.createElement(P,{padding:2},C.exports.createElement(rr,{buttons:[],classroom:e,key:e.id})))))))})),path:"/classroom"}],lr=C.exports.createContext(null);function ir({schema:e,mutation:t}){return({initialValue:r={},mutation:n=t,injectInput:a={},inputParser:o})=>{const[s,c]=C.exports.useState(n),{data:u,setQuery:d,loading:m}=Qt(),g=p(s).replaceAll("mutate","").camelCase().value(),h=C.exports.useCallback((e=>{console.log(a);let t=l(l({},e),a);return o&&(t=o(t)),d((e=>e[s](t)))}),[a,s]),x=function(e,t){const[r,n]=C.exports.useState(e),a=T({resolver:H(O(r))}),o=a.handleSubmit(t),s=C.exports.useCallback((e=>C.exports.createElement(B,l(l({},e),a))),[]);return{form:a,handler:o,provider:s,setFormValue:e=>{Object.keys(e).forEach((t=>{a.setValue(t,e[t])}))},updateSchema:n}}(e,h);return C.exports.useEffect((()=>{Object.keys(r).length&&x.setFormValue(r)}),[r]),i(l({},x),{loading:m,updateMutation:c,resolver:h,result:(()=>{if(u)return u[g]})()})}}const cr=U().required().test("check","error-type",(e=>"number"==typeof e||"string"==typeof e)),ur={sectionBatchUpdater:ir({schema:{map:D().required().of(O({id:cr,sequence:L().required().min(1)}))},mutation:Xt.mutateSectionBatchUpdate}),createSection:ir({schema:{title:j().required()},mutation:Xt.mutateSections})};function dr(e=!1){const[t,r]=C.exports.useState(e),n=C.exports.useCallback((e=>()=>r(e)),[]),a=C.exports.useCallback((()=>{r(!t)}),[t]);return[t,{force:n,toggle:a,inline:r}]}function mr({callback:e,depedencies:t,message:r,disableAutoShow:n}){const{enqueueSnackbar:a}=M(),[o,{inline:s}]=dr(),l=C.exports.useCallback((()=>{try{s(!0)}catch(e){}}),[]);C.exports.useEffect((()=>{t&&!n&&l()}),[t]);const i=()=>{s(!1),e(),a(r,{variant:"success"})};return C.exports.useEffect((()=>{o&&!n&&i()}),[o]),i}const pr=ur.sectionBatchUpdater,gr=({item:e,onUp:t,onDown:r,index:n,form:a})=>(C.exports.useEffect((()=>{a.setValue(`map[${n}].sequence`,n+1),a.setValue(`map[${n}].id`,e.id)}),[n]),C.exports.createElement(F,null,C.exports.createElement(V,{primary:`Section ${n+1} : ${e.title}`}),C.exports.createElement(z,null,C.exports.createElement(X,{onClick:t},C.exports.createElement(G,null)),C.exports.createElement(X,{onClick:r},C.exports.createElement(Y,null))))),hr=({sections:e,onSubmit:t})=>{const r=W(),n=()=>e.map((({id:e,title:t,sequence:r})=>({title:t,sequence:r,id:e}))),[a,o]=C.exports.useState(n),s=a.length;C.exports.useEffect((()=>{o([...g.exports.sortBy(n(),["sequence"])])}),[e]);const i=e=>o([...e]),c=(e,t)=>a.map((r=>e.id===r.id?t:t.id===r.id?e:r));return C.exports.createElement("div",null,C.exports.createElement(J,null,a.map(((e,t)=>C.exports.createElement(gr,l({index:t,item:e,key:e.id,form:r},(({id:e})=>{const t=g.exports.findIndex(a,{id:e}),r=t===s-1?0:t+1,n=0===t?s-1:t-1;return{onDown:()=>{i(c(a[t],a[r]))},onUp:()=>{i(c(a[t],a[n]))}}})(e)))))),C.exports.createElement($,{onClick:t},"Save"))},xr=R((({classroom:e})=>{const{form:t,provider:r,result:n,handler:a}=pr({injectInput:{classroomId:e.id}});return mr({callback(){console.log("ok success")},depedencies:Boolean(n),message:"Section updated successfully"}),C.exports.createElement(r,null,C.exports.createElement(hr,{sections:[...e.sections],onSubmit:a}))}));class fr extends C.exports.Component{constructor(){super(...arguments),this.getValue=()=>{var e;const{type:t="text",select:r,controller:n}=this.props;switch(t){case"number":case"money":return 0;default:return r?"__default__":n&&null!=(e=n.field.value)?e:""}},this.handleChange=e=>{const t=e.target.value,{onChange:r}=this.props;r&&r(t),this.props.controller&&this.props.controller.field.onChange(t)}}propBuilder(){var e;const t=this.props,{controller:r}=t,n=c(t,["controller"]),a={onChange:this.handleChange,value:this.getValue()};if(r){const t=r,{field:o}=t,s=o,{ref:u}=s,d=c(s,["ref"]),{fieldState:m}=t;if(m.error){const{message:e}=m.error;a.helperText=e,a.error=!0}return a.onChange=e=>{null==d||d.onChange(e),this.handleChange(e)},i(l(l(l({},n),d),a),{inputRef:u,inputProps:l({},null!=(e=n.inputProps)?e:{})})}return l(l({},a),n)}render(){return C.exports.createElement(Q,l({},this.propBuilder()))}}const Er=e=>{var t=e,{noUseForm:r}=t,n=c(t,["noUseForm"]);const a=W();if(!a&&!r&&!n.onChange)throw new Error("Please provide onChange props if without use useForm");if(r)return C.exports.createElement(fr,l({},n));const o=K({name:n.name,control:a.control});return C.exports.createElement(fr,l({controller:o},n))},yr=ur.createSection,br=R((()=>{const{refresh:e,classroom:t}=C.exports.useContext(lr),{handler:r,provider:n,result:a}=yr({injectInput:{classroomId:t.id,sequence:t.sectionCount+1}});return mr({callback:e,depedencies:Boolean(a),message:"New section has been added"}),C.exports.createElement(n,null,C.exports.createElement("form",{onSubmit:r},C.exports.createElement(P,{display:"flex"},C.exports.createElement(P,{width:"70%"},C.exports.createElement(Er,{fullWidth:!0,name:"title",label:"title"})),C.exports.createElement(P,{width:"30%"},C.exports.createElement($,{type:"submit"},"Save")))))})),vr=()=>C.exports.createElement("div",null,"Section update"),Cr=R((({classroom:e})=>C.exports.createElement(C.exports.Fragment,null,C.exports.createElement(xr,{classroom:e}),C.exports.createElement(br,null),C.exports.createElement(vr,null)))),Sr=(new Rt).id.grade.sectionCount.studentCount.sections((e=>e.id.sequence.title.createdAt.classroomId.createdAt.updatedAt));var _r,wr,Pr;const Ir=[...sr,...[{component:(_r=Cr,wr="classRoomId",Pr=()=>Sr,R((({match:e})=>{const t=e.params[wr],[r,n]=C.exports.useState(null),[a,{fetch:o,isNull:s}]=nr({queryKey:Vt.queryClassroom,builder:Pr});return C.exports.useEffect((()=>{a&&(console.log("new data is coming"),n(a))}),[a]),C.exports.useEffect((()=>{o({id:t})}),[]),s?C.exports.createElement("div",null,"Classroom is not found"):a&&r?C.exports.createElement(lr.Provider,{value:{classroom:r,refresh:()=>o({id:t})}},C.exports.createElement(_r,{classroom:a})):null}))),path:"/section/:classRoomId"}]],kr=()=>{const{navigateHandler:e}=er();return C.exports.createElement("div",null,C.exports.createElement(J,null,Ir.map((t=>C.exports.createElement(F,{onClick:e(t.path),button:!0,key:t.path},C.exports.createElement(V,{primary:t.path}))))))},qr=()=>C.exports.createElement(Z,null,Ir.map((e=>C.exports.createElement(ee,i(l({exact:!0},e),{key:e.path})))),C.exports.createElement(ee,{path:"/",component:kr})),$r={currentPage:0,hasMorePages:!1,perPage:0,total:0,count:0},Nr={first:30,page:1};function Rr({queryKey:e,modelBuilder:t,initial:r}){var n,a;const[o,s]=C.exports.useState((()=>l(l({},Nr),r))),[c,{fetch:u,loading:d}]=nr({queryKey:e,builder:e=>e.data(t).paginatorInfo((e=>e.total.currentPage.perPage.lastPage.hasMorePages.lastItem.count))});C.exports.useEffect((()=>{u(l({},o))}),[o]);const m=function({current:e,setter:t,paginator:r=$r}){const{currentPage:n}=r,a=r=>{t(i(l({},e),{page:r}))};return{go:a,next:()=>{a(n+1)},prev:()=>{a(n-1)},changePerPage:r=>{t(i(l({},e),{page:1,first:r}))},prevDisabled:1===(null==r?void 0:r.currentPage),nextDisabled:(null==r?void 0:r.lastPage)===(null==r?void 0:r.currentPage)}}({paginator:c?c.paginatorInfo:$r,current:o,setter:s});return i(l({},m),{updateVars:e=>{s(i(l(l({},o),e),{page:1}))},loading:d,data:null!=(n=null==c?void 0:c.data)?n:[],paginator:null!=(a=null==c?void 0:c.paginatorInfo)?a:$r})}const Ar=C.exports.createContext(null);function Tr(){return C.exports.useContext(Ar)}const Hr=e=>e.email.id.name.role.grade.created_at.updated_at,Or=_((()=>({cell:{background:"white"}}))),Br=({hideGrade:e})=>{const t=Or(),r=["Nama","Email"];return e||r.push("Jenjang"),C.exports.createElement(le,null,C.exports.createElement(ie,null,r.map((e=>C.exports.createElement(ce,{className:t.cell,key:e},e)))))},Ur=({user:e,hideGrade:t})=>{const{name:r,email:n,gradeLabel:a}=e;return C.exports.createElement(ie,null,C.exports.createElement(ce,null,r),C.exports.createElement(ce,null,n),t?null:C.exports.createElement(ce,null,a))},Dr=R((({query:e,children:t,grade:r})=>{const n={queryKey:e,modelBuilder:Hr};if(r){const e=g.exports.find(mt.map,{grade:r});e&&(n.initial={grade:e.roman})}const a=Rr(n);return C.exports.createElement(Ar.Provider,{value:a},t)})),Lr=R((({hideGrade:e=!1})=>{const{data:t,paginator:r,go:n}=Tr(),a=function(e){const t=te();return re(t.breakpoints.down(e))}("md");return C.exports.createElement(w,{elevation:4},C.exports.createElement(P,{padding:2,paddingX:0},C.exports.createElement(ne,{style:{height:"70vh"}},C.exports.createElement(ae,{size:a?"small":"medium",stickyHeader:!0},C.exports.createElement(Br,{hideGrade:e}),C.exports.createElement(oe,null,t.map((t=>C.exports.createElement(Ur,{hideGrade:e,user:t,key:t.id})))))),C.exports.createElement(P,{paddingTop:2},C.exports.createElement(se,{onChange:(e,t)=>n(t),count:r.lastPage}))))})),jr={value:"__disabled__",label:"Pilih salah satu opsi"};class Mr extends C.exports.Component{constructor(e){super(e),this.handleFormChange=e=>{const{controller:t}=this.props;if(t){const{onChange:r}=t.field;r(e)}},this.handleChange=e=>{const t=e.target.value;this.handleFormChange(t)},this.findInOption=e=>this.options.find((t=>t.value===e)),this.getErrorProps=()=>{var e,t;if(!this.props.controller)return{};const{fieldState:r}=this.props.controller;return{error:Boolean(r.error),helperText:null!=(t=null==(e=r.error)?void 0:e.message)?t:""}},this.getValue=()=>{const e=e=>{if(!e)return"__disabled__";const t=this.findInOption(e);return t?t.value:"__disabled__"};if(this.props.controller){const{field:{value:t}}=this.props.controller;return console.log(this.findInOption(t),this.options),e(t)}const{value:t}=this.props;return e(t)},this.getFieldProps=()=>{var e;const t=this.props,{options:r,controller:n}=t,a=c(t,["options","controller"]);return i(l(l({},a),this.getErrorProps()),{SelectProps:i(l({},null!=(e=a.SelectProps)?e:{}),{inputRef:null==n?void 0:n.field.ref}),onChange:this.handleChange,value:this.getValue()})},this.options=[jr,...this.props.options]}render(){const e=this.getFieldProps();return C.exports.createElement("div",null,C.exports.createElement(Q,i(l({},e),{select:!0,fullWidth:!0}),this.options.map((e=>C.exports.createElement(de,{disabled:e.value===jr.value,key:e.value,value:e.value},e.label)))))}}const Wr=mt.map.map((e=>({value:e.grade,label:e.label}))),Jr=(Fr=Wr,e=>{var t=e,{name:r}=t,n=c(t,["name"]);const a=W(),o=a?{render(e){const t=i(l({},n),{name:r,controller:e,options:Fr});return C.exports.createElement(Mr,l({},t))},name:r}:i(l({name:r},n),{options:Fr});return a?C.exports.createElement(ue,l({},o)):C.exports.createElement(Mr,l({},o))});var Fr;const Vr=[{name:"name",label:"Nama"},{name:"email",label:"Email"},{name:"password",label:"Masukan password",type:"password"},{name:"password_confirmation",label:"Konfirmasi password",type:"password"}],zr=R((({handler:e,loading:t,disableGrade:r=!1,readonlyGrade:n=!1})=>C.exports.createElement("form",{onSubmit:e},Vr.map((e=>C.exports.createElement(P,{mb:2,key:e.name},C.exports.createElement(Er,i(l({fullWidth:!0,size:"small",variant:"outlined",disabled:t},e),{key:e.name}))))),C.exports.createElement(P,{mb:2},r?null:C.exports.createElement(Jr,{size:"small",variant:"outlined",disabled:t||n,name:"grade",label:"Jenjang"})),C.exports.createElement($,{type:"submit",disabled:t,variant:"outlined"},"Simpan")))),Xr=(e=!1)=>({name:j().required(),email:j().required().email(),password:j().required(),password_confirmation:j().required().oneOf([me("password")]),grade:j().when({is:!e,then:e=>e.required()}).oneOf(mt.map.map((({grade:e})=>e)))}),Gr=e=>({schema:Xr(e),mutation:Xt.mutateUser}),Yr={teacher:{create:ir(Gr(!0))},student:{create:ir(Gr(!1))}},Kr=Yr.teacher.create,Qr=R((()=>{const{provider:e,loading:t,handler:r,result:n,form:a}=Kr({injectInput:{role:"Teacher"},inputParser(e){var t=e,{password_confirmation:r}=t;return c(t,["password_confirmation"])}}),{go:o}=Tr();return mr({callback(){a.reset({}),o(1)},depedencies:Boolean(n),message:"Pengajar berhasil di tambah"}),pe.createElement(e,null,pe.createElement(zr,{disableGrade:!0,loading:t,handler:r}))})),Zr={path:"/teacher",component:()=>pe.createElement(Dr,{query:Vt.queryTeachers},pe.createElement(A,{container:!0},pe.createElement(A,{item:!0,sm:12,md:8,lg:6},pe.createElement(Lr,null)),pe.createElement(A,{item:!0,sm:12,md:4,lg:6},pe.createElement(P,{paddingX:2},pe.createElement(k,{variant:"h4"},"Tambah Pengajar"),pe.createElement(P,{padding:2},pe.createElement(Qr,null))))))},en=Yr.student.create,tn=R((({grade:e})=>{const{provider:t,loading:r,handler:n,result:a,form:o}=en({injectInput:{role:"Student"},inputParser(e){var t=e,{password_confirmation:r}=t;return c(t,["password_confirmation"])}});pe.useEffect((()=>{e&&(console.log(mt.find(e).roman),o.setValue("grade",mt.find(e).grade))}),[]);const{go:s}=Tr();return mr({callback(){o.reset({}),s(1)},depedencies:Boolean(a),message:"Siswa berhasil di tambah"}),pe.createElement(t,null,pe.createElement(zr,{readonlyGrade:Boolean(e),loading:r,handler:n}))})),rn={path:"/student",component:()=>pe.createElement(Dr,{query:Vt.queryStudents},pe.createElement(A,{container:!0},pe.createElement(A,{item:!0,sm:12,md:8,lg:6},pe.createElement(Lr,null)),pe.createElement(A,{item:!0,sm:12,md:4,lg:6},pe.createElement(P,{paddingX:2},pe.createElement(k,{variant:"h4"},"Tambah Siswa"),pe.createElement(P,{padding:2},pe.createElement(tn,null))))))},nn=_((e=>({root:{backgroundSize:"cover",minHeight:"240px",position:"relative",backgroundPosition:"center",backgroundRepeat:"no-repeat"},info:{position:"absolute",bottom:0,height:"50%",width:"100%",color:"white",backgroundColor:"rgba(0, 0, 0, 0.70)",borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,display:"flex",alignItems:"center",justifyContent:"center"}}))),an=({classroom:e,buttons:t})=>{const r=nn();return e.contentCount,e.studentCount,C.exports.createElement(w,{className:r.root,style:{backgroundImage:`url("${e.photo}")`}},C.exports.createElement(P,{className:r.info},C.exports.createElement(I,null),C.exports.createElement(P,{width:"100%",padding:2},C.exports.createElement(k,{variant:"h5",align:"center"},e.gradeLabel),C.exports.createElement(P,{width:"100%",display:"flex"},C.exports.createElement(P,{width:"50%",textAlign:"center"},C.exports.createElement(k,null,e.contentCount+" konten")),C.exports.createElement(P,{width:"50%",textAlign:"center"},C.exports.createElement(k,null,e.studentCount+" siswa"))),C.exports.createElement(P,{paddingY:1},C.exports.createElement(q,{variant:"outlined"},t.map((e=>{var t=e,{color:r="primary"}=t,n=c(t,["color"]);return C.exports.createElement($,i(l({},n),{size:"small",color:r,variant:"outlined",key:n.title}),n.title)})))))))},{queryAllClassroom:on}=ar,sn={component:R((()=>{const{loading:e,fetch:t,classrooms:r}=on();C.exports.useEffect((()=>{t()}),[]);const{navigateHandler:n}=er();return C.exports.createElement("div",null,C.exports.createElement(A,{container:!0,component:P,paddingY:2},null==r?void 0:r.map((e=>{return C.exports.createElement(A,{item:!0,key:e.id,sm:12,md:4},C.exports.createElement(P,{padding:2},C.exports.createElement(an,{buttons:(t=e,[{startIcon:C.exports.createElement(ge,null),onClick:n("/classroom/:id",{id:t.id}),title:"Atur kelas",style:{borderColor:"white",color:"white"}}]),classroom:e,key:e.id})));var t}))))})),path:"/classroom"},ln=[{path:"general",label:"Informasi umum"},{path:"students",label:"Siswa"},{path:"contents",label:"Konten"}],cn=({ctx:e})=>C.exports.createElement(he,{value:e.path,onChange:(t,r)=>e.updatePath(r)},ln.map((e=>C.exports.createElement(xe,{value:e.path,key:e.path,label:e.label}))));const un=C.exports.createContext(null);function dn(){return C.exports.useContext(un)}const mn=e=>{const t=function({app:e}){const[t,r]=C.exports.useState("Home"),{navigateHandler:n}=er(),[a,o]=C.exports.useState(null);return{app:e,navigate:n,pageTitle:t,secondNavigator:a,updateTitle:r,updateNav:o}}(e);return C.exports.createElement(un.Provider,{value:t},e.children)},pn=ar.queryClassroom,gn=C.exports.createContext(null),hn=()=>C.exports.useContext(gn),xn=R((({children:e})=>{const[t,r]=C.exports.useState("general"),{classroom:n}=pn(),a=N(),{updateNav:o,updateTitle:s}=dn();return C.exports.useEffect((()=>{n&&s("Menagemen ruang kelas "+n.gradeLabel)}),[n]),C.exports.useEffect((()=>(o(C.exports.createElement(cn,{ctx:{path:t,updatePath:r}})),()=>{o(null)})),[t]),a.id?n?C.exports.createElement(gn.Provider,{value:{path:t,updatePath:r,classroom:n}},e):null:C.exports.createElement(fe,{to:"/home"})})),fn=R((()=>{const{classroom:e}=hn();return C.exports.createElement(Dr,{query:Vt.queryStudents,grade:e.grade},C.exports.createElement(A,{container:!0},C.exports.createElement(A,{item:!0,sm:12,md:8,lg:6},C.exports.createElement(Lr,{hideGrade:!0})),C.exports.createElement(A,{item:!0,sm:12,md:4,lg:6},C.exports.createElement(P,{paddingX:2},C.exports.createElement(k,{variant:"h4"},"Tambah Siswa"),C.exports.createElement(P,{padding:2},C.exports.createElement(tn,{grade:e.grade}))))))})),En=C.exports.createContext(null);function yn(){return C.exports.useContext(En)}const bn=R((({children:e})=>{const{classroom:t}=hn(),r=Rr({queryKey:Vt.queryContents,initial:{classroomId:t.id,first:5},modelBuilder:e=>e.id.classroomId.type.title.description.sequenceNumber.mediaContent.thumbnail.user((e=>e.id.name))}),[n,a]=C.exports.useState(null),o=i(l({},r),{selected:n,setActive:e=>()=>a(e)});return C.exports.createElement(En.Provider,{value:o},e)})),vn=({item:e,active:t,onClick:r})=>C.exports.createElement(F,{onClick:r,selected:t,button:!0,key:e.id},C.exports.createElement(be,null,C.exports.createElement(ve,{src:e.thumbnail})),C.exports.createElement(V,{secondary:e.uploader,primary:e.title})),Cn=R((()=>{const{prev:e,next:t,nextDisabled:r,prevDisabled:n}=yn();return C.exports.createElement(q,{fullWidth:!0},C.exports.createElement($,{onClick:e,disabled:n,startIcon:C.exports.createElement(Ee,null)},"Sebelumnya"),C.exports.createElement($,{onClick:t,disabled:r,endIcon:C.exports.createElement(ye,null)},"Selanjutnya"))})),Sn=R((()=>{const{selected:e,setActive:t,data:r}=yn();return C.exports.createElement(w,null,C.exports.createElement(J,null,r.map((r=>C.exports.createElement(vn,{key:r.id,item:r,active:Boolean(e&&e.id===r.id),onClick:t(r)})))),C.exports.createElement(Cn,null))}));const _n=_((()=>({root:{"& > .video-react-video":{display:"none!important"}}}))),wn=({url:e,play:t,onContainerClick:r,enableFullScreen:n=!0})=>(te(),_n(),C.exports.createElement("div",{onClick:r},C.exports.createElement(Ce.Player,{poster:"",src:e}))),Pn=()=>{const{selected:e}=yn(),[t,{force:r,inline:n}]=dr();return C.exports.useEffect((()=>{n(!1)}),[e]),C.exports.createElement("div",null,e?C.exports.createElement(wn,{url:e.mediaContent,onContainerClick:r(!0),play:t}):C.exports.createElement(k,{variant:"h3",align:"center"},"Pilih salah satu konten"))},In=_((e=>({root:{"& > *":{fontFamily:"Roboto!important"},padding:e.spacing(2)},editor:{"& > *":{fontFamily:"Roboto!important"}}}))),kn=({data:e})=>{const t=In();try{const r=Se.convertFromRaw(JSON.parse(e)),n=Se.EditorState.createWithContent(r);return C.exports.createElement("div",{className:t.root},C.exports.createElement(_e.exports.Editor,{editorClassName:t.editor,toolbarHidden:!0,readOnly:!0,toolbar:{},editorState:n}))}catch(r){return null}},qn=()=>{const{selected:e}=yn();return e?C.exports.createElement(kn,{data:e.description}):null},$n={general:()=>C.exports.createElement("div",null,C.exports.createElement(A,{container:!0},C.exports.createElement(A,{item:!0,md:3},C.exports.createElement(w,null,C.exports.createElement("h1",null,"lol"))),C.exports.createElement(A,{item:!0,sm:9}))),contents:R((()=>C.exports.createElement(bn,null,C.exports.createElement(A,{container:!0},C.exports.createElement(A,{item:!0,sm:12,md:9,lg:8},C.exports.createElement(P,{padding:3,paddingTop:0,paddingBottom:0},C.exports.createElement(Pn,null)),C.exports.createElement(P,{marginTop:3,paddingX:3},C.exports.createElement(w,null,C.exports.createElement(qn,null)))),C.exports.createElement(A,{item:!0,sm:12,md:3,lg:4},C.exports.createElement(Sn,null)))))),students:fn},Nn=R((()=>{const{path:e}=hn(),t=$n[e];return C.exports.createElement(t,null)}));var Rn;const An=[Zr,rn,...[sn,{component:(Rn=Nn,e=>C.exports.createElement(xn,null,C.exports.createElement(Rn,l({},e)))),path:"/classroom/:id"}]];console.log(An);const Tn=()=>C.exports.createElement(Z,null,An.map((e=>C.exports.createElement(ee,l({key:e.path,exact:!0},e)))),C.exports.createElement(ee,{exact:!0,path:"/home",component:()=>C.exports.createElement("h1",null,"Home")}),C.exports.createElement(ee,{path:"*",component:()=>C.exports.createElement(fe,{to:"/home"})})),Hn=()=>C.exports.createElement("div",null,"Home page"),On=({children:e})=>{const t=te();return C.exports.createElement(P,{position:"relative",minHeight:"70vh"},C.exports.createElement(P,{position:"fixed",top:0,zIndex:0,left:"0",height:"50vh",width:"100%",bgcolor:t.palette.primary.light}),e)},Bn={email:j().email().required(),password:j().required()},Un={email:j().email().required(),name:j().required(),password:j().required(),passwordConfirmation:j().required().oneOf([me("password")],"password di not match")},Dn={login:ir({schema:Bn,mutation:Xt.mutateLogin}),register:ir({schema:Un,mutation:Xt.mutateRegister})},Ln=Dn.register,jn=_((e=>({field:{},submitContainer:{position:"absolute",botttom:e.spacing(3),marginBottom:e.spacing(2)}}))),Mn=[{name:"name",type:"text",label:"Name"},{name:"email",type:"email",label:"Your email"},{name:"password",type:"password",label:"Your Password"},{name:"passwordConfirmation",type:"password",label:"Confirm your Password"}],Wn=R((()=>{const{result:e,provider:t,handler:r}=Ln({inputParser:e=>{var t=e,{passwordConfirmation:r}=t,n=c(t,["passwordConfirmation"]);return{args:i(l({},n),{password_confirmation:r})}}}),n=jn(),{navigateHandler:a}=er();return mr({callback:a("/sign-in"),depedencies:Boolean(e),message:"Please login with your account"}),C.exports.createElement(t,null,C.exports.createElement("form",{onSubmit:r},Mn.map((e=>{var t=e,{name:r}=t,a=c(t,["name"]);return C.exports.createElement(P,{paddingY:3,key:r},C.exports.createElement(Er,i(l({fullWidth:!0,variant:"filled",name:r,InputProps:{disableUnderline:!0}},a),{className:n.field})))})),C.exports.createElement("div",{className:n.submitContainer},C.exports.createElement($,{variant:"outlined",color:"primary",type:"submit"},"Register now !"))))})),Jn=()=>C.exports.createElement(On,null,C.exports.createElement(A,{style:{background:"transparent",zIndex:2,position:"absolute",top:0,minHeight:"80vh"},container:!0},C.exports.createElement(A,{item:!0,sm:12,md:6,style:{display:"flex"}},C.exports.createElement(P,{flexGrow:1,display:"flex",padding:5},C.exports.createElement(w,{style:{flexGrow:1}},C.exports.createElement(P,{padding:5},C.exports.createElement(k,{variant:"h3"},"Sign in"),C.exports.createElement(Wn,null))))),C.exports.createElement(A,{item:!0,sm:12,md:6},C.exports.createElement(k,{style:{color:"white"},variant:"h1"},"Welcome"),C.exports.createElement(k,null,"Already has an account ?"),C.exports.createElement(P,null,C.exports.createElement($,{fullWidth:!0,variant:"outlined",color:"default"},"Click here to sign in"))))),Fn=Dn.login,Vn=_((e=>({field:{},submitContainer:{position:"absolute",botttom:e.spacing(3)}}))),zn=[{name:"email",type:"email",label:"Your email"},{name:"password",type:"password",label:"Your Password"}],Xn=R((()=>{const{result:e,provider:t,handler:r}=Fn({}),n=Vn(),a=ha(),[o,{fetch:s}]=nr({queryKey:Vt.queryAuth}),{navigateHandler:u}=er(),d=mr({callback:u("/dashboard"),depedencies:Boolean(e),disableAutoShow:!0,message:o?`Welcome ${o.name}`:""});return C.exports.useEffect((()=>{o&&(a.updateUser(o),d())}),[o]),C.exports.useEffect((()=>{e&&s({})}),[e]),C.exports.createElement(t,null,C.exports.createElement("form",{onSubmit:r},zn.map((e=>{var t=e,{name:r}=t,a=c(t,["name"]);return C.exports.createElement(P,{paddingY:3,key:r},C.exports.createElement(Er,i(l({fullWidth:!0,variant:"filled",name:r,InputProps:{disableUnderline:!0}},a),{className:n.field})))})),C.exports.createElement("div",{className:n.submitContainer},C.exports.createElement($,{variant:"outlined",color:"primary",type:"submit"},"Login"))))})),Gn=()=>C.exports.createElement(On,null,C.exports.createElement(A,{style:{background:"transparent",zIndex:2,position:"absolute",top:0,minHeight:"80vh"},container:!0},C.exports.createElement(A,{item:!0,sm:12,md:6,style:{display:"flex"}},C.exports.createElement(P,{flexGrow:1,display:"flex",padding:5},C.exports.createElement(w,{style:{flexGrow:1}},C.exports.createElement(P,{padding:5},C.exports.createElement(k,{variant:"h3"},"Sign in"),C.exports.createElement(Xn,null))))),C.exports.createElement(A,{item:!0,sm:12,md:6},C.exports.createElement(k,{style:{color:"white"},variant:"h1"},"Welcome"),C.exports.createElement(k,null,"Did not have an account ?"),C.exports.createElement(P,null,C.exports.createElement($,{fullWidth:!0,variant:"outlined",color:"default"},"Click here to sign up"))))),Yn=()=>C.exports.createElement(Z,null,C.exports.createElement(ee,{exact:!0,path:"/sign-in",component:Gn}),C.exports.createElement(ee,{exact:!0,path:"/sign-up",component:Jn}),C.exports.createElement(ee,{exact:!0,path:"/home",component:Hn}),C.exports.createElement(ee,{path:"*",component:()=>C.exports.createElement(fe,{to:"/home"})})),Kn=_((e=>({categoryHeader:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},itemHeader:{paddingTop:0,paddingBottom:0},categoryHeaderPrimary:{color:e.palette.common.white,padding:0},item:{paddingTop:1,paddingBottom:1,color:"rgba(255, 255, 255, 0.7)","&:hover,&:focus":{backgroundColor:"rgba(255, 255, 255, 0.08)"}},itemCategory:{backgroundColor:"#232f3e",boxShadow:"0 -1px 0 #404854 inset",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},firebase:{fontSize:24,color:e.palette.common.white},itemActiveItem:{color:"#4fc3f7"},itemPrimary:{fontSize:"inherit"},itemIcon:{minWidth:"auto",marginRight:e.spacing(2)},divider:{marginTop:e.spacing(2)},secondary:{color:"white"}}))),Qn=()=>{const e=Kn();return C.exports.createElement(C.exports.Fragment,null,C.exports.createElement(F,{className:e.itemHeader},C.exports.createElement(V,{classes:{primary:e.categoryHeaderPrimary},primary:"Account"})),C.exports.createElement(J,{component:"div"},C.exports.createElement(F,{button:!0,className:e.item},C.exports.createElement(we,{className:e.itemIcon},C.exports.createElement(Pe,null)),C.exports.createElement(V,{classes:{primary:e.itemPrimary},primary:"Setting"})),C.exports.createElement(F,{button:!0,className:e.item},C.exports.createElement(we,{className:e.itemIcon},C.exports.createElement(Ie,null)),C.exports.createElement(V,{classes:{primary:e.itemPrimary},primary:"Logout"}))),C.exports.createElement(I,null))},Zn=({items:e})=>{const t=Kn(),{navigate:r,updateTitle:n}=dn(),a=({path:e,pageTitle:t})=>()=>{n(t),r(e)()};return C.exports.createElement(J,{component:"div"},e.map((e=>C.exports.createElement(F,{onClick:a(e),key:e.path,button:!0,className:t.item},C.exports.createElement(we,{className:t.itemIcon},e.icon),C.exports.createElement(V,{classes:{primary:t.itemPrimary},primary:e.label})))))},ea=[{icon:C.exports.createElement(ke,null),label:"Ruang kelas",path:"/classroom",pageTitle:"Ruang kelas"},{icon:C.exports.createElement(qe,null),label:"Siswa",path:"/student",pageTitle:"Siswa"},{icon:C.exports.createElement(qe,null),label:"Pengajar",path:"/teacher",pageTitle:"Pengajar"}],ta={Adm:()=>C.exports.createElement(Zn,{items:ea}),Teacher:e=>C.exports.createElement("div",null),Student:e=>C.exports.createElement("div",null)},ra=({app:e})=>{if(!e.user)return null;const{user:{role:t}}=e;if(!t)return null;const r=ta[t];return C.exports.createElement(r,null)};function na(e){var t,r,n=e,{app:a}=n,o=c(n,["app"]);const s=Kn();return console.log(dn()),pe.createElement($e,l({variant:"permanent"},o),pe.createElement(J,{component:"nav",disablePadding:!0},pe.createElement(F,{className:Ne(s.firebase,s.item,s.itemCategory)},"ECOURSE"),pe.createElement(F,{className:Ne(s.item,s.itemCategory)},pe.createElement(we,{className:s.itemIcon},pe.createElement(Re,null)),pe.createElement(V,{classes:{primary:s.itemPrimary,secondary:s.secondary},secondary:null==(t=null==a?void 0:a.user)?void 0:t.email,style:{fontWeight:"bolder"}},null==(r=null==a?void 0:a.user)?void 0:r.name)),a.user?pe.createElement(ra,{app:a}):null,pe.createElement(Qn,null)))}const aa=_((e=>({secondaryBar:{},menuButton:{marginLeft:-e.spacing(1)},iconButtonAvatar:{padding:4},link:{textDecoration:"none",color:"rgba(255, 255, 255, 0.7)","&:hover":{color:e.palette.common.white}},button:{borderColor:"rgba(255, 255, 255, 0.7)"}}))),oa=({onDrawerToggle:e})=>{const t=aa(),{pageTitle:r,secondNavigator:n}=dn(),a=te(),o=re(a.breakpoints.down("sm"));return pe.createElement(pe.Fragment,null,pe.createElement(Ae,{component:"div",className:t.secondaryBar,color:"primary",position:"sticky"},pe.createElement(Te,null,pe.createElement(A,{container:!0,alignItems:"center",spacing:1},pe.createElement(A,{style:{display:"flex",alignItems:"center"},item:!0,xs:!0},o?pe.createElement(X,{onClick:e},pe.createElement(He,{style:{color:"white"}})):null,pe.createElement(k,{color:"inherit",style:{fontWeight:"bolder"}},r)),pe.createElement(A,{item:!0}),pe.createElement(A,{item:!0},pe.createElement(Oe,{title:"Help"},pe.createElement(X,{color:"inherit"},pe.createElement(Be,null)))))),n?pe.createElement(Te,null,n):null))},sa=[{path:"/sign-up",icon:Ie,label:"Sign up",variant:"outlined"},{path:"/sign-in",icon:Ue,label:"Sign in",variant:"contained",color:"primary"}],la=e=>{const{navigateHandler:t}=er();return pe.createElement(pe.Fragment,null,pe.createElement(Ae,{color:"default"},pe.createElement(Te,null,pe.createElement(k,{style:{fontWeight:"bolder"},variant:"button"},"E-COURSE"),pe.createElement(P,{marginLeft:"auto",display:"flex"},sa.map((e=>{var r=e,{path:n,label:a}=r,o=c(r,["path","label"]);return pe.createElement(P,{key:n,marginRight:1},pe.createElement($,l({onClick:t(n)},o),a))}))))))},ia=e=>{const{app:{user:t}}=e,r=t?oa:la;return pe.createElement(r,l({},e))};function ca(){return pe.createElement(k,{variant:"body2",color:"textSecondary",align:"center"},"Copyright © ",pe.createElement(We,{color:"inherit",href:"https://material-ui.com/"},"@ E-COURSE")," ",(new Date).getFullYear(),".")}let ua=De({palette:{primary:{light:"#63ccff",main:"#009be5",dark:"#006db3"}},typography:{h5:{fontWeight:500,fontSize:26,letterSpacing:.5}},shape:{borderRadius:8},props:{MuiTab:{disableRipple:!0}},mixins:{toolbar:{minHeight:48}}});ua=i(l({},ua),{overrides:{MuiDrawer:{paper:{backgroundColor:"#18202c"}},MuiButton:{label:{textTransform:"none"},contained:{boxShadow:"none","&:active":{boxShadow:"none"}}},MuiTabs:{root:{marginLeft:ua.spacing(1)},indicator:{height:3,borderTopLeftRadius:3,borderTopRightRadius:3,backgroundColor:ua.palette.common.white}},MuiTab:{root:{textTransform:"none",margin:"0 16px",minWidth:0,padding:0,[ua.breakpoints.up("md")]:{padding:0,minWidth:0}}},MuiIconButton:{root:{padding:ua.spacing(1)}},MuiTooltip:{tooltip:{borderRadius:4}},MuiDivider:{root:{backgroundColor:"#404854"}},MuiListItemText:{primary:{fontWeight:ua.typography.fontWeightMedium}},MuiListItemIcon:{root:{color:"inherit",marginRight:0,"& svg":{fontSize:20}}},MuiAvatar:{root:{width:32,height:32}}}});const da=_((()=>({root:{display:"flex",minHeight:"100vh"},drawer:{[ua.breakpoints.up("sm")]:{width:256,flexShrink:0}},app:{flex:1,display:"flex",flexDirection:"column"},main:{flex:1,padding:ua.spacing(6,4),background:"#eaeff1"},footer:{padding:ua.spacing(2),background:"#eaeff1"}}))),ma=({app:e,children:t})=>{const r=da(),[n,a]=pe.useState(!1),{user:o}=e,s=()=>{a(!n)};return pe.createElement(Le,{theme:ua},pe.createElement(mn,{app:e},pe.createElement("div",{className:r.root},pe.createElement(je,null),o?pe.createElement("nav",{className:r.drawer},pe.createElement(Me,{smUp:!0,implementation:"js"},pe.createElement(na,{app:e,PaperProps:{style:{width:256}},variant:"temporary",open:n,onClose:s})),pe.createElement(Me,{xsDown:!0,implementation:"css"},pe.createElement(na,{app:e,PaperProps:{style:{width:256}}}))):null,pe.createElement("div",{className:r.app},pe.createElement(ia,{app:e,onDrawerToggle:s}),pe.createElement("main",{className:r.main},t),pe.createElement("footer",{className:r.footer},pe.createElement(ca,null))))))},pa=Yt.create(void 0,{gqlHttpClient:new Je.GraphQLClient("/graphql",{credentials:"include"})});window.rootStore=pa;const ga=C.exports.createContext(null);function ha(){return C.exports.useContext(ga)}const xa=R((()=>{const{data:e,setQuery:t}=Qt((e=>e.queryAuth())),{updateUser:r,user:n}=ha(),[a,{force:o}]=dr();return C.exports.useEffect((()=>{e&&e.login&&t((e=>e.queryAuth())),e&&void 0!==e.auth&&r(e.auth)}),[e]),C.exports.createElement(Fe,{ariaLabel:"SpeedDial example",open:a,style:{position:"fixed",bottom:"1rem",right:"1rem"},onMouseEnter:o(!0),onMouseLeave:o(!1),icon:C.exports.createElement(Ve,null)},C.exports.createElement(ze,{onClick:()=>t((e=>e.mutateLogin({email:"imandidikr@gmail.com",password:"password"}))),FabProps:{disabled:Boolean(n)},tooltipTitle:"Login",icon:C.exports.createElement(Xe,null)}))}));class fa extends C.exports.Component{constructor(e){super(e),this.updateMode=e=>{this.setState({mode:e})},this.updateUser=e=>{this.setState({user:e,loading:!1,mode:null==e?void 0:e.role})},this.getContextValue=()=>i(l({},this.state),{updateMode:this.updateMode,updateUser:this.updateUser}),this.getChild=()=>{const{user:e,mode:t}=this.state;if(!e)return Yn;return{Teacher:qr,Student:Zt,Adm:Tn}[t]},this.state={user:null,loading:!0,mode:et.Adm}}render(){const{loading:e}=this.state,t=this.getChild();return C.exports.createElement(ga.Provider,{value:this.getContextValue()},C.exports.createElement(Kt.Provider,{value:pa},C.exports.createElement(ma,{app:this.getContextValue()},e?"loading":C.exports.createElement(t,null)),C.exports.createElement(xa,null)))}}const Ea=document.getElementById("root");(async()=>{if(Ea)Ge.exports.render(C.exports.createElement(Ye,null,C.exports.createElement(Ke,null,C.exports.createElement(fa,null))),Ea)})(),window.mobxJson=e=>console.log(Qe(e));
